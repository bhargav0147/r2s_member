import{aq as v,r as y,al as jt,ax as ot,j as e,ar as p,S as r,b1 as lt,ay as it,as as n,at as m,b0 as w,h as i,L as d,bs as ut,R as g,aG as T,c7 as kt,b3 as wt,au as dt,b4 as _t,aI as _,l,ad as nt,c8 as vt,i as St,aR as Lt}from"./index-6b9b4714.js";function ht(t){return v({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}}]})(t)}function zt({info:t,id:h,email:b,pdfRef:S,isProfile:$,user:s,getBusinessDetails:L,averageRating:o}){var F,H,A,D,V,E,G,W,U,q,N,Q,J,K,O,X,Y,Z,f,tt,et,at,st,rt,ct;const z=y.useRef(null),{enqueueSnackbar:C}=jt(),j=ot(),a=(F=t==null?void 0:t.addresses)!=null&&F.length?t==null?void 0:t.addresses[0]:null,I=e.jsx(p,{sx:{py:3,textAlign:"center",typography:"h4"},children:e.jsxs(r,{direction:"row",divider:e.jsx(lt,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),children:[e.jsxs(r,{width:1,children:[it(o),e.jsx(n,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Ratings"})]}),e.jsxs(r,{width:1,children:[it((H=t==null?void 0:t.BusinessFeedback)==null?void 0:H.length),e.jsx(n,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Total Reviews"})]})]})}),B=e.jsxs(p,{children:[e.jsx(m,{title:"About"}),e.jsx(m,{avatar:e.jsx(w,{alt:(s==null?void 0:s.name)||(s==null?void 0:s.full_name),src:(s==null?void 0:s.profilePhoto)||(s==null?void 0:s.profile_picture)}),title:(s==null?void 0:s.name)||(s==null?void 0:s.full_name),subheader:s==null?void 0:s.role}),e.jsxs(r,{spacing:2,sx:{p:3},children:[e.jsx(n,{sx:{typography:"body2"},children:t==null?void 0:t.description}),a?e.jsxs(r,{direction:"row",spacing:2,children:[e.jsx(i,{icon:"mingcute:location-fill",width:24}),e.jsx(n,{sx:{typography:"body2"},children:e.jsxs(d,{variant:"subtitle2",color:"inherit",children:[(a==null?void 0:a.address_line_1)&&`${a==null?void 0:a.address_line_1}, `,(a==null?void 0:a.address_line_2)&&`${a==null?void 0:a.address_line_2}, `,(a==null?void 0:a.area)&&`${a==null?void 0:a.area}, `,a==null?void 0:a.city,", ",a==null?void 0:a.state,", India, ",a==null?void 0:a.pincode]})})]}):null,e.jsxs(r,{direction:"row",sx:{typography:"body2",justifyContent:"start",alignItems:"center",fontWeight:"semiBold"},children:[e.jsx(n,{mr:2,children:e.jsx(ht,{size:24})}),((A=t==null?void 0:t.Member)==null?void 0:A.Contact_no)||(s==null?void 0:s.contact)]}),e.jsxs(r,{direction:"row",sx:{typography:"body2"},children:[e.jsx(i,{icon:"fluent:mail-24-filled",width:24,sx:{mr:2}}),b||((D=t==null?void 0:t.Member)==null?void 0:D.email_id)]}),e.jsxs(r,{direction:"row",spacing:2,children:[e.jsx(i,{icon:"ic:round-business-center",width:24}),e.jsxs(n,{sx:{typography:"body2"},children:[t==null?void 0:t.role," ","business hours ",e.jsx(d,{variant:"subtitle2",color:"inherit",children:t==null?void 0:t.business_hour})]})]})]})]}),[u,M]=y.useState(0),[x,k]=y.useState(""),R=async()=>{const{data:c}=await nt.get(`/api/member/feedback/business?type=bussiness&id=${h||(t==null?void 0:t.id)}&page=1&perpage=10`);return c==null?void 0:c.data},{data:P,isLoading:Rt,error:Pt,refetch:xt}=ut(`review${h||(t==null?void 0:t.id)}`,R,{staleTime:6e4,cacheTime:36e5}),pt=async()=>{try{const{data:c}=await nt.post(`/api/member/feedback/business/add/${h}`,{comment:x,rating:u,type:"bussiness"});c.success&&(L(),M(0),k(""),xt(),C("Review submitted successfully",{variant:"success"}))}catch(c){C(typeof c=="string"?c:c.message,{variant:"error"})}};y.useState({});const mt=e.jsxs(p,{sx:{p:3},children:[e.jsx(wt,{multiline:!0,fullWidth:!0,rows:4,value:x,onChange:c=>k(c.target.value),placeholder:"Share your valuable feedback...",sx:{p:2,mb:3,borderRadius:1,border:c=>`solid 1px ${dt(c.palette.grey[500],.2)}`}}),e.jsxs(r,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(_t,{name:"read-only",value:u,onChange:(c,bt)=>{M(bt)}}),e.jsx(_,{onClick:pt,variant:"contained",children:"Submit"})]}),e.jsx("input",{ref:z,type:"file",style:{display:"none"}})]}),gt=e.jsxs(p,{children:[e.jsx(m,{title:"Social"}),e.jsxs(r,{spacing:2,sx:{p:3},children:[(V=t==null?void 0:t.Social_Link)!=null&&V.facebook?e.jsxs(r,{spacing:2,direction:"row",sx:{wordBreak:"break-all",typography:"body2"},children:[e.jsx(i,{icon:"eva:facebook-fill",width:24,sx:{flexShrink:0,color:"#1877F2"}}),e.jsx(d,{target:"_blank",component:g,href:(E=t==null?void 0:t.Social_Link)==null?void 0:E.facebook,color:"inherit",children:(G=t==null?void 0:t.Social_Link)==null?void 0:G.facebook})]}):null,(W=t==null?void 0:t.Social_Link)!=null&&W.instagram?e.jsxs(r,{spacing:2,direction:"row",sx:{wordBreak:"break-all",typography:"body2"},children:[e.jsx(i,{icon:"ant-design:instagram-filled",width:24,sx:{flexShrink:0,color:"#DF3E30"}}),e.jsx(d,{target:"_blank",component:g,href:(U=t==null?void 0:t.Social_Link)==null?void 0:U.instagram,color:"inherit",children:(q=t==null?void 0:t.Social_Link)==null?void 0:q.instagram})]}):null,(N=t==null?void 0:t.Social_Link)!=null&&N.linkedin?e.jsxs(r,{spacing:2,direction:"row",sx:{wordBreak:"break-all",typography:"body2"},children:[e.jsx(i,{icon:"eva:linkedin-fill",width:24,sx:{flexShrink:0,color:"#006097"}}),e.jsx(d,{target:"_blank",component:g,href:(Q=t==null?void 0:t.Social_Link)==null?void 0:Q.linkedin,color:"inherit",children:(J=t==null?void 0:t.Social_Link)==null?void 0:J.linkedin})]}):null,(K=t==null?void 0:t.Social_Link)!=null&&K.twitter?e.jsxs(r,{spacing:2,direction:"row",sx:{wordBreak:"break-all",typography:"body2"},children:[e.jsx(i,{icon:"eva:twitter-fill",width:24,sx:{flexShrink:0,color:"#1C9CEA"}}),e.jsx(d,{target:"_blank",component:g,href:(O=t==null?void 0:t.Social_Link)==null?void 0:O.twitter,color:"inherit",children:(X=t==null?void 0:t.Social_Link)==null?void 0:X.twitter})]}):null,(Y=t==null?void 0:t.Social_Link)!=null&&Y.youtube?e.jsxs(r,{spacing:2,direction:"row",sx:{wordBreak:"break-all",typography:"body2"},children:[e.jsx(i,{icon:"mdi:youtube",width:24,sx:{flexShrink:0,color:"#CD201F"}}),e.jsx(d,{component:g,target:"_blank",href:(Z=t==null?void 0:t.Social_Link)==null?void 0:Z.youtube,color:"inherit",children:(f=t==null?void 0:t.Social_Link)==null?void 0:f.youtube})]}):null]})]}),yt=e.jsx(n,{sx:{mt:-10,display:"none"},children:e.jsxs(p,{ref:S,sx:{maxWidth:500,mx:"auto",mt:10},children:[e.jsx(r,{sx:{p:3,pb:2},alignItems:"center",children:e.jsx("img",{width:220,src:j.palette.mode==="dark"?"/logo/logo-dark.png":"/logo/logo.png",alt:"logo"})}),e.jsx(m,{avatar:e.jsx(w,{alt:t==null?void 0:t.bussiness_name,src:t==null?void 0:t.business_logo}),title:t==null?void 0:t.bussiness_name,subheader:t==null?void 0:t.Bussiness_type,sx:{mb:3}}),e.jsx(lt,{}),e.jsx(m,{avatar:e.jsx(w,{alt:s==null?void 0:s.name,src:s==null?void 0:s.profilePhoto}),title:s==null?void 0:s.name,subheader:s==null?void 0:s.role}),e.jsxs(r,{spacing:2,sx:{p:3},children:[e.jsx(n,{sx:{typography:"body2"},children:t==null?void 0:t.description}),a?e.jsxs(r,{direction:"row",spacing:2,children:[e.jsx(i,{icon:"mingcute:location-fill",width:24}),e.jsxs(n,{sx:{typography:"body2"},children:["at ",e.jsxs(d,{variant:"subtitle2",color:"inherit",children:[a!=null&&a.area?`${a==null?void 0:a.area}, `:""," ",a==null?void 0:a.city,", ",a==null?void 0:a.state,", India, ",a==null?void 0:a.pincode]})]})]}):null,a!=null&&a.address_line_1?e.jsxs(r,{direction:"row",spacing:2,children:[e.jsx(i,{icon:"mingcute:location-fill",width:24}),e.jsxs(n,{sx:{typography:"body2"},children:["primary address ",e.jsx(d,{variant:"subtitle2",color:"inherit",children:a==null?void 0:a.address_line_1})]})]}):null,a!=null&&a.address_line_2?e.jsxs(r,{direction:"row",spacing:2,children:[e.jsx(i,{icon:"mingcute:location-fill",width:24}),e.jsxs(n,{sx:{typography:"body2"},children:["primary address ",e.jsx(d,{variant:"subtitle2",color:"inherit",children:a==null?void 0:a.address_line_2})]})]}):null,e.jsxs(r,{direction:"row",sx:{typography:"body2"},children:[e.jsx(i,{icon:"fluent:mail-24-filled",width:24,sx:{mr:2}}),b||((tt=t==null?void 0:t.Member)==null?void 0:tt.email_id)]}),e.jsxs(r,{direction:"row",spacing:2,children:[e.jsx(i,{icon:"ic:round-business-center",width:24}),e.jsxs(n,{sx:{typography:"body2"},children:[t==null?void 0:t.role," ","business hours ",e.jsx(d,{variant:"subtitle2",color:"inherit",children:t==null?void 0:t.business_hour})]})]})]})]})});return e.jsxs(T,{container:!0,spacing:3,children:[e.jsx(T,{xs:12,md:4,children:e.jsxs(r,{spacing:3,children:[I,B,(et=t==null?void 0:t.Social_Link)!=null&&et.instagram||(at=t==null?void 0:t.Social_Link)!=null&&at.linkedin||(st=t==null?void 0:t.Social_Link)!=null&&st.twitter||(rt=t==null?void 0:t.Social_Link)!=null&&rt.youtube||(ct=t==null?void 0:t.Social_Link)!=null&&ct.facebook?gt:null,h?null:yt]})}),e.jsx(T,{xs:12,md:8,children:e.jsxs(r,{spacing:3,children:[h&&s.memberid!==h?mt:null,P==null?void 0:P.map(c=>e.jsx(kt,{post:c},c.id))]})})]})}zt.propTypes={info:l.object,posts:l.array,id:l.string,email:l.string,user:l.object};function Ct(t){return v({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48h-.7c-55.4.2-107.4 21.9-146.6 61.1C69.6 148.4 48 200.5 48 256s21.6 107.6 60.8 146.9c39.1 39.2 91.2 60.9 146.6 61.1h.7c114.7 0 208-93.3 208-208S370.7 48 256 48zm180.2 194h-77.6c-.9-26.7-4.2-52.2-9.8-76.2 17.1-5.5 33.7-12.5 49.7-21 22 28.2 35 61.6 37.7 97.2zM242 242h-61.8c.8-24.5 3.8-47.7 8.8-69.1 17.4 3.9 35.1 6.3 53 7.1v62zm0 28v61.9c-17.8.8-35.6 3.2-53 7.1-5-21.4-8-44.6-8.8-69H242zm28 0h61.3c-.8 24.4-3.8 47.6-8.8 68.9-17.2-3.9-34.8-6.2-52.5-7V270zm0-28v-62c17.8-.8 35.4-3.2 52.5-7 5 21.4 8 44.5 8.8 69H270zm109.4-117.9c-12.3 6.1-25 11.3-38 15.5-7.1-21.4-16.1-39.9-26.5-54.5 24 8.3 45.9 21.6 64.5 39zM315 146.8c-14.7 3.2-29.8 5.2-45 6V79.4c17 9.2 33.6 33.9 45 67.4zM242 79v73.7c-15.4-.8-30.6-2.8-45.5-6.1 11.6-33.8 28.4-58.5 45.5-67.6zm-45.6 6.4c-10.3 14.5-19.2 32.9-26.3 54.1-12.8-4.2-25.4-9.4-37.5-15.4 18.4-17.3 40.1-30.5 63.8-38.7zm-82.9 59.5c15.8 8.4 32.3 15.4 49.2 20.8-5.7 23.9-9 49.5-9.8 76.2h-77c2.6-35.4 15.6-68.8 37.6-97zM75.8 270h77c.9 26.7 4.2 52.3 9.8 76.2-16.9 5.5-33.4 12.5-49.2 20.8-21.9-28.1-34.9-61.5-37.6-97zm56.7 117.9c12.1-6 24.7-11.2 37.6-15.4 7.1 21.3 16 39.6 26.3 54.2-23.7-8.4-45.4-21.5-63.9-38.8zm64-22.6c14.9-3.3 30.2-5.3 45.5-6.1V433c-17.2-9.1-33.9-33.9-45.5-67.7zm73.5 67.3v-73.5c15.2.8 30.3 2.8 45 6-11.4 33.6-28 58.3-45 67.5zm45-5.7c10.4-14.6 19.4-33.1 26.5-54.5 13 4.2 25.8 9.5 38 15.6-18.6 17.3-40.6 30.6-64.5 38.9zm83.5-59.8c-16-8.5-32.6-15.5-49.7-21 5.6-23.9 8.9-49.4 9.8-76.1h77.6c-2.7 35.5-15.6 68.9-37.7 97.1z"}}]})(t)}function It(t){return v({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 199.5h-91.4V64H187.4v135.5H96l160 158.1 160-158.1zM96 402.8V448h320v-45.2H96z"}}]})(t)}function Bt(t){return v({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 248L288 96v85.334C138.666 202.667 85.333 309.334 64 416c53.333-74.666 117.333-108.802 224-108.802v87.469L448 248z"}}]})(t)}function Mt({name:t,avatarUrl:h,role:b,coverUrl:S,id:$,memberId:s,is_premium:L,info:o,downloadPDF:z,pdfRef:C}){const j=ot(),a=()=>{const x=`/member/${s}`,k="Some thing";navigator.share&&navigator.share({title:"Share this link",text:k,url:x}).then(()=>console.log("Link shared successfully")).catch(R=>console.error("Error sharing link:",R))};function I(){const x=`tel:+91${o==null?void 0:o.Contact_no}`;window.location.href=x}function B(){window.open(o==null?void 0:o.website_link,"_blank")}const[u,M]=y.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs(n,{sx:{...vt({color:dt(j.palette.primary.darker,.8),imgUrl:S}),height:1,color:"common.white"},children:[e.jsx(r,{sx:{justifyContent:{xs:"space-between",md:"end"},position:"absolute",width:"100%"},direction:"row",p:2,gap:2,children:$?e.jsxs(e.Fragment,{children:[e.jsx(_,{onClick:I,startIcon:e.jsx(ht,{}),variant:"outlined",children:"Contact"}),o!=null&&o.website_link?e.jsx(_,{onClick:B,endIcon:e.jsx(Ct,{}),variant:"contained",color:"secondary",children:"Website"}):null]}):L?e.jsxs(e.Fragment,{children:[e.jsx(St,{loading:u,onClick:z,startIcon:e.jsx(It,{}),variant:"outlined",children:"Download"}),e.jsx(_,{onClick:a,endIcon:e.jsx(Bt,{}),variant:"contained",color:"secondary",children:"Share"})]}):null}),e.jsxs(r,{direction:{xs:"column",md:"row"},sx:{left:{md:24},bottom:{md:24},zIndex:{md:10},pt:{xs:6,md:0},position:{md:"absolute"}},children:[e.jsx(w,{src:h,alt:t,sx:{mx:"auto",width:{xs:64,md:128},height:{xs:64,md:128},border:`solid 2px ${j.palette.common.white}`}}),e.jsx(Lt,{sx:{mt:3,ml:{md:3},textAlign:{xs:"center",md:"unset"}},primary:t,secondary:b,primaryTypographyProps:{typography:"h4"},secondaryTypographyProps:{mt:.5,color:"inherit",component:"span",typography:"body2",sx:{opacity:.48}}})]})]})})}Mt.propTypes={avatarUrl:l.string,coverUrl:l.string,name:l.string,role:l.string,info:l.object,id:l.string,memberId:l.string,is_premium:l.bool,downloadPDF:l.func};export{Mt as P,zt as a};
