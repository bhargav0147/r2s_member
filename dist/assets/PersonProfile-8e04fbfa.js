import{aA as T,u as D,bz as S,r as a,j as s,aD as k,ar as A,aU as F,bf as E,aV as I,bh as R,h as b,ad as p,ae as g,W as U}from"./index-6b9b4714.js";import{P as z,a as G}from"./profile-cover-bb12bf9c.js";import{P as V}from"./profile-gallery-d6a77aae.js";const W=[{value:"profile",label:"Profile",icon:s.jsx(b,{icon:"solar:user-id-bold",width:24})},{value:"gallery",label:"Gallery",icon:s.jsx(b,{icon:"solar:gallery-wide-bold",width:24})}],H=()=>{var l,c,u,f,x,h,P;const _=T(),{user:t}=D(),{id:n}=S(),[e,j]=a.useState({Business_Profile:[]}),[d,y]=a.useState({}),B=async()=>{var r;try{const{data:o}=await p.get(g.sharedProfile(n));j((r=o==null?void 0:o.data)==null?void 0:r.results),y(o==null?void 0:o.data)}catch(o){console.log(o)}};a.useEffect(()=>{B()},[n]),t==null||t.Business_Profile[0];const[i,v]=a.useState("profile"),C=a.useCallback((r,o)=>v(o),[]),w=async r=>{var o;try{const{data:m}=await p.post((o=g)==null?void 0:o.createFeedback)}catch(m){console.log(m)}};return s.jsxs(k,{maxWidth:_.themeStretch?!1:"lg",children:[s.jsxs(A,{sx:{mb:3,height:290},children:[s.jsx(z,{role:((l=e==null?void 0:e.Business_Profile[0])==null?void 0:l.Bussiness_type)==="Others"?(c=e==null?void 0:e.Business_Profile[0])==null?void 0:c.otherType:(x=(f=(u=e==null?void 0:e.Business_Profile[0])==null?void 0:u.Bussiness_type)==null?void 0:f.split("_"))==null?void 0:x.join(" "),name:(h=e==null?void 0:e.Business_Profile[0])==null?void 0:h.bussiness_name,avatarUrl:e==null?void 0:e.profile_picture,coverUrl:(P=e==null?void 0:e.Business_Profile[0])==null?void 0:P.business_cover_image,id:n,info:e.Business_Profile[0]}),s.jsx(F,{value:i,onChange:C,sx:{width:1,bottom:0,zIndex:9,position:"absolute",bgcolor:"background.paper",[`& .${E.flexContainer}`]:{pr:{md:3},justifyContent:{sm:"center",md:"flex-end"}}},children:W.map(r=>s.jsx(I,{value:r.value,icon:r.icon,label:r.label},r.value))})]}),i==="profile"&&s.jsx(G,{isProfile:!0,email:e==null?void 0:e.email_id,info:e==null?void 0:e.Business_Profile[0],createFeedback:w,posts:R,id:n,user:{...e,contact:e.Contact_no},averageRating:d.averageRating}),i==="gallery"&&s.jsx(V,{businessProfile:e==null?void 0:e.Business_Profile[0]})]})},J=()=>s.jsxs(s.Fragment,{children:[s.jsx(U,{children:s.jsx("title",{children:" Person Details"})}),s.jsx(H,{})]});export{J as default};
