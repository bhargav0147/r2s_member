import{r as o,aA as I,u as M,bz as R,j as s,aD as U,aF as z,p as d,ar as G,aU as V,bf as W,aV as H,bh as J,h as D,ad as w,ae as T,W as O}from"./index-6b9b4714.js";import{P as $,a as q}from"./profile-cover-bb12bf9c.js";import{P as K}from"./profile-gallery-d6a77aae.js";const L=[{value:"profile",label:"Profile",icon:s.jsx(D,{icon:"solar:user-id-bold",width:24})},{value:"gallery",label:"Gallery",icon:s.jsx(D,{icon:"solar:gallery-wide-bold",width:24})}],N=()=>{var c,m,f,b,h,p,x,g,j,v,y,_,B,C;o.useState("all");const F=I(),{user:l}=M(),{id:t}=R(),[e,S]=o.useState({}),i=async()=>{var a;try{const{data:r}=await w.get((a=T.business)==null?void 0:a.fetchDetails(t));S(r==null?void 0:r.data)}catch(r){console.log(r)}};o.useEffect(()=>{i(),console.log(e)},[t]),l==null||l.Business_Profile[0];const[u,k]=o.useState("profile"),A=o.useCallback((a,r)=>k(r),[]),E=async a=>{var r,P;try{const{data:n}=await w.post((r=T)==null?void 0:r.createFeedback);(P=n==null?void 0:n.data)!=null&&P.success&&i()}catch(n){console.log(n)}};return s.jsxs(U,{maxWidth:F.themeStretch?!1:"lg",children:[s.jsx(z,{heading:"Business Details",links:[{name:"Dashboard",href:d.findBusiness},{name:"Find Business",href:d.findBusiness},{name:e==null?void 0:e.bussiness_name}],sx:{mb:{xs:3,md:5}}}),s.jsxs(G,{sx:{mb:3,height:290},children:[s.jsx($,{role:((c=e==null?void 0:e.result)==null?void 0:c.Bussiness_type)==="Others"?(m=e==null?void 0:e.result)==null?void 0:m.otherType:(h=(b=(f=e==null?void 0:e.result)==null?void 0:f.Bussiness_type)==null?void 0:b.split("_"))==null?void 0:h.join(" "),name:(p=e==null?void 0:e.result)==null?void 0:p.bussiness_name,avatarUrl:(x=e==null?void 0:e.result)==null?void 0:x.business_logo,coverUrl:((g=e==null?void 0:e.result)==null?void 0:g.business_cover_image)||"https://api-prod-minimal-v510.vercel.app/assets/images/cover/cover_4.jpg",id:t,info:e}),s.jsx(V,{value:u,onChange:A,sx:{width:1,bottom:0,zIndex:9,position:"absolute",bgcolor:"background.paper",[`& .${W.flexContainer}`]:{pr:{md:3},justifyContent:{sm:"center",md:"flex-end"}}},children:L.map(a=>s.jsx(H,{value:a.value,icon:a.icon,label:a.label},a.value))})]}),u==="profile"&&s.jsx(q,{info:e==null?void 0:e.result,user:{name:(v=(j=e==null?void 0:e.result)==null?void 0:j.Member)==null?void 0:v.full_name,role:(_=(y=e==null?void 0:e.result)==null?void 0:y.Member)==null?void 0:_.Job_title,profilePhoto:(C=(B=e==null?void 0:e.result)==null?void 0:B.Member)==null?void 0:C.profile_picture},createFeedback:E,posts:J,id:t,getBusinessDetails:i,averageRating:e==null?void 0:e.averageRating}),u==="gallery"&&s.jsx(K,{businessProfile:e==null?void 0:e.result})]})},Z=()=>s.jsxs(s.Fragment,{children:[s.jsx(O,{children:s.jsx("title",{children:" Business Details"})}),s.jsx(N,{})]});export{Z as default};
